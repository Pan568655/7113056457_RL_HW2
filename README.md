##給予GPT Prompt：
加入以下要求並更改HW1程式
HW2: 使用價值迭代算法推導最佳政策
價值迭代算法：

實現價值迭代算法來計算最佳政策。
使用該算法推導每個格子的最佳行動。
最佳政策顯示：

顯示推導出的最佳政策，通過顯示每個狀態（格子）對應的行動來展示最佳政策。
這些行動應該取代之前顯示的隨機行動。
顯示價值函數：

在執行價值迭代後，更新格子以顯示每個狀態的價值函數 V(s)。
每個格子應顯示對應的值，表示在最佳政策下該狀態的期望回報。
其他注意事項：
使用 Flask 作為後端，HTML/CSS 作為前端來顯示格子並處理用戶交互。
確保 Flask 應用程序是交互式的，用戶可以點擊格子來設置起始點、終點、障礙物，並查看生成的政策。
提供可視化的功能，讓用戶能夠清楚地看到隨機政策、價值函數和最佳政策的變化。

提供一份完整的程式碼給我

##GPT回應

# RL Policy Evaluation Web App (Value Iteration)

本專案為強化學習可視化小工具，使用 Flask 建構後端，HTML/JavaScript 建構前端，讓使用者互動式設定網格環境並運行**價值迭代（Value Iteration）**來推導最佳策略。

---

## 🎯 專案功能

- ✅ 使用者可指定 `n x n` 網格大小（3～10）
- ✅ 點擊格子互動式設定：
  - 起點（綠色）
  - 終點（紅色）
  - 障礙格（灰色）
- ✅ 使用價值迭代 (Value Iteration) 自動推導最佳策略
- ✅ 顯示每個狀態的最終 V(s) 值（Value Function）與對應動作（Optimal Policy）
- ✅ 輸出圖片包含 Value Matrix + Policy Matrix

---

## 🖥️ 執行畫面展示

### Optimal Policy & Value Function 可視化

![執行成果圖](static/sample_output.png)

> 左圖：每格的 V(s) 值；右圖：最佳策略方向（↑ ↓ ← →），終點以紅星顯示，灰格為障礙。

---

## 🚀 執行方式

### 1. 安裝環境依賴

```bash
pip install -r requirements.txt
```

### 2. 啟動 Flask 伺服器

```bash
python app.py
```

### 3. 打開瀏覽器，前往

```
http://127.0.0.1:5000/
```

即可進行互動式策略評估與視覺化！

---

## 📁 專案結構說明

```
RL-HW/
├── app.py                 # Flask 主程式，包含價值迭代邏輯與繪圖
├── templates/
│   └── index.html         # 前端介面（動態網格 + 設定 + 圖片顯示）
├── static/
│   └── result_*.png       # 每次輸出的圖會自動存在此資料夾
├── requirements.txt       # 相依套件列表
├── README.md              # 專案說明
```

---

## 🧠 價值迭代說明（簡述）

- 每個狀態根據四個可能動作（上下左右）計算 Q 值
- 選擇使得 V(s) 最大的行動作為最佳策略
- 以終點為目標進行迭代更新直到收斂

獎勵設計：
- 合法移動：-1
- 撞牆或撞到障礙：-5

---
